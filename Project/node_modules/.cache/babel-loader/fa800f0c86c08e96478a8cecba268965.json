{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sanja\\\\Documents\\\\GitHub\\\\TempCode\\\\src\\\\Components\\\\Form\\\\QuestionsTab.js\";\nimport React from 'react'; //import QuestionHeader from './QuestionHeader';\n\nimport { Grid } from '@material-ui/core';\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport { Paper, Typography } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport CropOriginalIcon from '@material-ui/icons/CropOriginal';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Radio from '@material-ui/core/Radio';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport AccordionActions from '@material-ui/core/AccordionActions';\nimport Divider from '@material-ui/core/Divider';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\nimport FilterNoneIcon from '@material-ui/icons/FilterNone';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport DragIndicatorIcon from '@material-ui/icons/DragIndicator';\nimport ImageUplaodModel from './ImageUplaodModel';\nimport formService from '../../services/formService';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport SaveIcon from '@material-ui/icons/Save';\n\nfunction QuestionsTab(props) {\n  const [questions, setQuestions] = React.useState([]);\n  const [openUploadImagePop, setOpenUploadImagePop] = React.useState(false);\n  const [imageContextData, setImageContextData] = React.useState({\n    question: null,\n    option: null\n  });\n  const [formData, setFormData] = React.useState({});\n  const [loadingFormData, setLoadingFormData] = React.useState(true);\n  React.useEffect(() => {\n    if (props.formData.questions !== undefined) {\n      //console.log(props.formData.questions.length);\n      if (props.formData.questions.length === 0) {\n        setQuestions([{\n          questionText: \"Question\",\n          options: [{\n            optionText: \"Option 1\"\n          }],\n          open: false\n        }]);\n      } else {\n        setQuestions(props.formData.questions);\n      }\n\n      setLoadingFormData(false);\n    }\n\n    setFormData(props.formData);\n  }, [props.formData]);\n\n  function saveQuestions() {\n    console.log(\"auto saving questions initiated\");\n    var data = {\n      formId: formData._id,\n      name: formData.name,\n      description: formData.description,\n      questions: questions\n    };\n    formService.autoSave(data).then(result => {\n      console.log(result);\n      setQuestions(result.questions);\n    }, error => {\n      const resMessage = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n      console.log(resMessage);\n    });\n  }\n\n  function checkImageHereOrNotForQuestion(gg) {\n    // console.log(gg);\n    if (gg === undefined || gg === \"\") {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  function checkImageHereOrNotForOption(gg) {\n    // console.log(gg);\n    if (gg === undefined || gg === \"\") {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  function addMoreQuestionField() {\n    expandCloseAll(); //I AM GOD\n\n    setQuestions(questions => [...questions, {\n      questionText: \"Question\",\n      options: [{\n        optionText: \"Option 1\"\n      }],\n      open: true\n    }]);\n  }\n\n  function copyQuestion(i) {\n    let qs = [...questions];\n    expandCloseAll();\n    const myNewOptions = [];\n    qs[i].options.forEach(opn => {\n      if (opn.optionImage !== undefined || opn.optionImage !== \"\") {\n        var opn1new = {\n          optionText: opn.optionText,\n          optionImage: opn.optionImage\n        };\n      } else {\n        var opn1new = {\n          optionText: opn.optionText\n        };\n      }\n\n      myNewOptions.push(opn1new);\n    });\n    const qImage = qs[i].questionImage || \"\";\n    var newQuestion = {\n      questionText: qs[i].questionText,\n      questionImage: qImage,\n      options: myNewOptions,\n      open: true\n    };\n    setQuestions(questions => [...questions, newQuestion]);\n  }\n\n  const handleImagePopupOpen = () => {\n    setOpenUploadImagePop(true);\n  };\n\n  function uploadImage(i, j) {\n    setImageContextData({\n      question: i,\n      option: j\n    });\n    handleImagePopupOpen();\n  }\n\n  function updateImageLink(link, context) {\n    var optionsOfQuestion = [...questions];\n    var i = context.question;\n\n    if (context.option == null) {\n      optionsOfQuestion[i].questionImage = link;\n    } else {\n      var j = context.option;\n      optionsOfQuestion[i].options[j].optionImage = link;\n    }\n\n    setQuestions(optionsOfQuestion);\n  }\n\n  function deleteQuestion(i) {\n    let qs = [...questions];\n\n    if (questions.length > 1) {\n      qs.splice(i, 1);\n    }\n\n    setQuestions(qs);\n  }\n\n  function handleOptionValue(text, i, j) {\n    var optionsOfQuestion = [...questions];\n    optionsOfQuestion[i].options[j].optionText = text; //newMembersEmail[i]= email;\n\n    setQuestions(optionsOfQuestion);\n  }\n\n  function handleQuestionValue(text, i) {\n    var optionsOfQuestion = [...questions];\n    optionsOfQuestion[i].questionText = text;\n    setQuestions(optionsOfQuestion);\n  }\n\n  function onDragEnd(result) {\n    if (!result.destination) {\n      return;\n    }\n\n    var itemgg = [...questions];\n    const itemF = reorder(itemgg, result.source.index, result.destination.index);\n    setQuestions(itemF);\n  }\n\n  const reorder = (list, startIndex, endIndex) => {\n    const result = Array.from(list);\n    const [removed] = result.splice(startIndex, 1);\n    result.splice(endIndex, 0, removed);\n    return result;\n  };\n\n  function showAsQuestion(i) {\n    let qs = [...questions];\n    qs[i].open = false;\n    setQuestions(qs);\n  }\n\n  function addOption(i) {\n    var optionsOfQuestion = [...questions];\n\n    if (optionsOfQuestion[i].options.length < 5) {\n      optionsOfQuestion[i].options.push({\n        optionText: \"Option \" + (optionsOfQuestion[i].options.length + 1)\n      });\n    } else {\n      console.log(\"Max  5 options \");\n    } //console.log(optionsOfQuestion);\n\n\n    setQuestions(optionsOfQuestion);\n  }\n\n  function removeOption(i, j) {\n    var optionsOfQuestion = [...questions];\n\n    if (optionsOfQuestion[i].options.length > 1) {\n      optionsOfQuestion[i].options.splice(j, 1);\n      setQuestions(optionsOfQuestion);\n      console.log(i + \"__\" + j);\n    }\n  }\n\n  function expandCloseAll() {\n    let qs = [...questions];\n\n    for (let j = 0; j < qs.length; j++) {\n      qs[j].open = false;\n    }\n\n    setQuestions(qs);\n  }\n\n  function handleExpand(i) {\n    let qs = [...questions];\n\n    for (let j = 0; j < qs.length; j++) {\n      if (i === j) {\n        qs[i].open = true;\n      } else {\n        qs[j].open = false;\n      }\n    }\n\n    setQuestions(qs);\n  }\n\n  function questionsUI() {\n    return questions.map((ques, i) => /*#__PURE__*/React.createElement(Draggable, {\n      key: i,\n      draggableId: i + 'id',\n      index: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 7\n      }\n    }, (provided, snapshot) => /*#__PURE__*/React.createElement(\"div\", Object.assign({\n      ref: provided.innerRef\n    }, provided.draggableProps, provided.dragHandleProps, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginBottom: \"15px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '100%',\n        marginBottom: '-7px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(DragIndicatorIcon, {\n      style: {\n        transform: \"rotate(-90deg)\",\n        color: '#DAE0E2'\n      },\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Accordion, {\n      onChange: () => {\n        handleExpand(i);\n      },\n      expanded: questions[i].open,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(AccordionSummary, {\n      \"aria-controls\": \"panel1a-content\",\n      id: \"panel1a-header\",\n      elevation: 1,\n      style: {\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 15\n      }\n    }, !questions[i].open ? /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'flex-start',\n        marginLeft: '3px',\n        paddingTop: '15px',\n        paddingBottom: '15px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"subtitle1\",\n      style: {\n        marginLeft: '0px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 17\n      }\n    }, i + 1, \".  \", ques.questionText), ques.questionImage !== \"\" ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: ques.questionImage,\n      width: \"400px\",\n      height: \"auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 81\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 90\n      }\n    })) : \"\", ques.options.map((op, j) => /*#__PURE__*/React.createElement(\"div\", {\n      key: j,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(FormControlLabel, {\n      disabled: true,\n      control: /*#__PURE__*/React.createElement(Radio, {\n        style: {\n          marginRight: '3px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 57\n        }\n      }),\n      label: /*#__PURE__*/React.createElement(Typography, {\n        style: {\n          color: '#555555'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 25\n        }\n      }, ques.options[j].optionText),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 19\n      }\n    }, op.optionImage !== \"\" ? /*#__PURE__*/React.createElement(\"img\", {\n      src: op.optionImage,\n      width: \"160px\",\n      height: \"auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 23\n      }\n    }) : \"\")))) : \"\"), /*#__PURE__*/React.createElement(AccordionDetails, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'flex-start',\n        marginLeft: '15px',\n        marginTop: '-15px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        width: '100%',\n        justifyContent: 'space-between'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      style: {\n        marginTop: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 19\n      }\n    }, i + 1, \".\"), /*#__PURE__*/React.createElement(TextField, {\n      fullWidth: true,\n      placeholder: \"Question Text\",\n      style: {\n        marginBottom: '18px'\n      },\n      rows: 2,\n      rowsMax: 20,\n      multiline: true,\n      value: ques.questionText,\n      variant: \"filled\",\n      onChange: e => {\n        handleQuestionValue(e.target.value, i);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"upload image\",\n      onClick: () => {\n        uploadImage(i, null);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(CropOriginalIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 17\n      }\n    }, checkImageHereOrNotForQuestion(ques.questionImage) ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '150px',\n        display: 'flex',\n        alignItems: 'flex-start',\n        paddingLeft: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: ques.questionImage,\n      width: \"150px\",\n      height: \"auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(IconButton, {\n      style: {\n        marginLeft: '-15px',\n        marginTop: '-15px',\n        zIndex: 999,\n        backgroundColor: 'lightgrey',\n        color: 'grey'\n      },\n      size: \"small\",\n      onClick: () => {\n        updateImageLink(\"\", {\n          question: i,\n          option: null\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(CloseIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 31\n      }\n    })))) : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 17\n      }\n    }, ques.options.map((op, j) => /*#__PURE__*/React.createElement(\"div\", {\n      key: j,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'row',\n        marginLeft: '-12.5px',\n        justifyContent: 'space-between',\n        paddingTop: '5px',\n        paddingBottom: '5px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Radio, {\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      fullWidth: true,\n      placeholder: \"Option text\",\n      style: {\n        marginTop: '5px'\n      },\n      value: ques.options[j].optionText,\n      onChange: e => {\n        handleOptionValue(e.target.value, i, j);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"upload image\",\n      onClick: () => {\n        uploadImage(i, j);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(CropOriginalIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"delete\",\n      onClick: () => {\n        removeOption(i, j);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(CloseIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 27\n      }\n    }, checkImageHereOrNotForOption(op.optionImage) ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '150px',\n        display: 'flex',\n        alignItems: 'flex-start',\n        paddingLeft: '20px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: op.optionImage,\n      width: \"90px\",\n      height: \"auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(IconButton, {\n      style: {\n        marginLeft: '-15px',\n        marginTop: '-15px',\n        zIndex: 999,\n        backgroundColor: 'lightgrey',\n        color: 'grey'\n      },\n      size: \"small\",\n      onClick: () => {\n        updateImageLink(\"\", {\n          question: i,\n          option: j\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(CloseIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 35\n      }\n    }))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 31\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 31\n      }\n    })) : \"\")))), ques.options.length < 5 ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FormControlLabel, {\n      disabled: true,\n      control: /*#__PURE__*/React.createElement(Radio, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 55\n        }\n      }),\n      label: /*#__PURE__*/React.createElement(Button, {\n        size: \"small\",\n        onClick: () => {\n          addOption(i);\n        },\n        style: {\n          textTransform: 'none',\n          marginLeft: \"-5px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 21\n        }\n      }, \"Add Option\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 19\n      }\n    })) : \"\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\",\n      style: {\n        color: 'grey'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 17\n      }\n    }, \"You can add maximum 5 options. If you want to add more then change in settings. Multiple choice single option is availible\"))), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(AccordionActions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"View\",\n      onClick: () => {\n        showAsQuestion(i);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(VisibilityIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"Copy\",\n      onClick: () => {\n        copyQuestion(i);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(FilterNoneIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(Divider, {\n      orientation: \"vertical\",\n      flexItem: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"delete\",\n      onClick: () => {\n        deleteQuestion(i);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(DeleteOutlineIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"Image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(MoreVertIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 23\n      }\n    })))))))));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: '15px',\n      marginBottom: '7px',\n      paddingBottom: \"30px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    direction: \"column\",\n    justify: \"center\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 12\n    }\n  }, loadingFormData ? /*#__PURE__*/React.createElement(CircularProgress, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 35\n    }\n  }) : \"\", /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 5,\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 14\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    style: {\n      borderTop: '10px solid teal',\n      borderRadius: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    elevation: 2,\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'flex-start',\n      marginLeft: '15px',\n      paddingTop: '20px',\n      paddingBottom: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h4\",\n    style: {\n      fontFamily: 'sans-serif Roboto',\n      marginBottom: \"15px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 33\n    }\n  }, formData.name), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"subtitle1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 33\n    }\n  }, formData.description)))))), /*#__PURE__*/React.createElement(Grid, {\n    style: {\n      paddingTop: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ImageUplaodModel, {\n    handleImagePopOpen: openUploadImagePop,\n    handleImagePopClose: () => {\n      setOpenUploadImagePop(false);\n    },\n    updateImageLink: updateImageLink,\n    contextData: imageContextData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(DragDropContext, {\n    onDragEnd: onDragEnd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Droppable, {\n    droppableId: \"droppable\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 23\n    }\n  }, (provided, snapshot) => /*#__PURE__*/React.createElement(\"div\", Object.assign({}, provided.droppableProps, {\n    ref: provided.innerRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 27\n    }\n  }), questionsUI(), provided.placeholder))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    onClick: addMoreQuestionField,\n    endIcon: /*#__PURE__*/React.createElement(AddCircleIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 36\n      }\n    }),\n    style: {\n      margin: '5px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 25\n    }\n  }, \"Add Question \"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: saveQuestions,\n    style: {\n      margin: '15px'\n    },\n    endIcon: /*#__PURE__*/React.createElement(SaveIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 36\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 25\n    }\n  }, \"Save Questions \")))))));\n}\n\nexport default QuestionsTab;","map":{"version":3,"sources":["C:/Users/sanja/Documents/GitHub/TempCode/src/Components/Form/QuestionsTab.js"],"names":["React","Grid","DragDropContext","Droppable","Draggable","Paper","Typography","TextField","Accordion","AccordionSummary","AccordionDetails","Button","IconButton","CropOriginalIcon","CloseIcon","Radio","FormControlLabel","AccordionActions","Divider","VisibilityIcon","MoreVertIcon","DeleteOutlineIcon","FilterNoneIcon","AddCircleIcon","DragIndicatorIcon","ImageUplaodModel","formService","CircularProgress","SaveIcon","QuestionsTab","props","questions","setQuestions","useState","openUploadImagePop","setOpenUploadImagePop","imageContextData","setImageContextData","question","option","formData","setFormData","loadingFormData","setLoadingFormData","useEffect","undefined","length","questionText","options","optionText","open","saveQuestions","console","log","data","formId","_id","name","description","autoSave","then","result","error","resMessage","response","message","toString","checkImageHereOrNotForQuestion","gg","checkImageHereOrNotForOption","addMoreQuestionField","expandCloseAll","copyQuestion","i","qs","myNewOptions","forEach","opn","optionImage","opn1new","push","qImage","questionImage","newQuestion","handleImagePopupOpen","uploadImage","j","updateImageLink","link","context","optionsOfQuestion","deleteQuestion","splice","handleOptionValue","text","handleQuestionValue","onDragEnd","destination","itemgg","itemF","reorder","source","index","list","startIndex","endIndex","Array","from","removed","showAsQuestion","addOption","removeOption","handleExpand","questionsUI","map","ques","provided","snapshot","innerRef","draggableProps","dragHandleProps","marginBottom","width","transform","color","display","flexDirection","alignItems","marginLeft","paddingTop","paddingBottom","op","marginRight","marginTop","justifyContent","e","target","value","paddingLeft","zIndex","backgroundColor","textTransform","borderTop","borderRadius","fontFamily","droppableProps","placeholder","margin"],"mappings":"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","sourcesContent":["import React from 'react'\n//import QuestionHeader from './QuestionHeader';\nimport {Grid} from '@material-ui/core';\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\n\nimport { Paper, Typography } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport CropOriginalIcon from '@material-ui/icons/CropOriginal';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Radio from '@material-ui/core/Radio';\n\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport AccordionActions from '@material-ui/core/AccordionActions';\nimport Divider from '@material-ui/core/Divider';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\nimport FilterNoneIcon from '@material-ui/icons/FilterNone';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport DragIndicatorIcon from '@material-ui/icons/DragIndicator';\nimport ImageUplaodModel from './ImageUplaodModel';\nimport formService from '../../services/formService';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport SaveIcon from '@material-ui/icons/Save';\n\nfunction QuestionsTab(props) {\n\n  const [questions, setQuestions]= React.useState([]);\n  const [openUploadImagePop, setOpenUploadImagePop] = React.useState(false);\n  const [imageContextData, setImageContextData] = React.useState({question: null, option: null});\n  const [formData, setFormData] = React.useState({});\n  const [loadingFormData, setLoadingFormData] = React.useState(true);\n  \n\n  React.useEffect(()=>{\n    \n    if(props.formData.questions !== undefined){\n      //console.log(props.formData.questions.length);\n      if(props.formData.questions.length === 0){\n        setQuestions([{questionText: \"Question\", options : [{optionText: \"Option 1\"}], open: false}]);\n      } else{\n        setQuestions(props.formData.questions)\n      }\n      setLoadingFormData(false)\n    } \n    setFormData(props.formData)\n  }, [props.formData])\n  \n\n  function saveQuestions(){\n    console.log(\"auto saving questions initiated\");\n    var data = {\n      formId: formData._id,\n      name: formData.name,\n      description: formData.description,\n      questions: questions\n    }\n\n    formService.autoSave(data)\n    .then((result) => {     \n         console.log(result);\n         setQuestions(result.questions)\n        },\n        error => {\n        const resMessage =\n            (error.response &&\n            error.response.data &&\n            error.response.data.message) ||\n            error.message ||\n            error.toString();\n            console.log(resMessage);\n        }\n    );\n    \n  }\n\n  function checkImageHereOrNotForQuestion(gg){\n   // console.log(gg);\n    if ((gg === undefined)||(gg===\"\")){\n      return false;\n    } else{\n      return true;\n    }\n  }\n\n  function checkImageHereOrNotForOption(gg){\n   // console.log(gg);\n    if ((gg === undefined)||(gg===\"\")){\n      return false;\n    } else{\n      return true;\n    }\n  }\n\n  function addMoreQuestionField(){\n      expandCloseAll(); //I AM GOD\n\n      setQuestions(questions=> [...questions, {questionText: \"Question\", options : [{optionText: \"Option 1\"}], open: true}]);\n  }\n\n  function copyQuestion(i){\n    let qs = [...questions]; \n    expandCloseAll();\n    const myNewOptions = [];\n    qs[i].options.forEach(opn => {\n      if ((opn.optionImage !== undefined)||(opn.optionImage !==\"\")) {\n        var opn1new = {\n          optionText : opn.optionText,\n          optionImage: opn.optionImage\n        }\n      } else{\n        var opn1new = {\n          optionText : opn.optionText\n        }\n      }\n      myNewOptions.push(opn1new)\n    });\n    const qImage = qs[i].questionImage || \"\";\n    var newQuestion = {questionText: qs[i].questionText, questionImage : qImage ,options:myNewOptions, open: true}\n     setQuestions(questions=> [...questions, newQuestion]); \n  }\n\n  const handleImagePopupOpen = () => {\n    setOpenUploadImagePop(true);\n  };\n\n\n  function uploadImage(i, j){\n    \n    setImageContextData({\n      question: i,\n      option: j\n    });\n    handleImagePopupOpen();\n    \n  }\n\n  function updateImageLink(link, context){\n    \n    var optionsOfQuestion = [...questions];\n    var i = context.question\n\n    if (context.option == null) {\n      optionsOfQuestion[i].questionImage= link;\n    } else {\n      var j = context.option\n      optionsOfQuestion[i].options[j].optionImage = link;\n    }\n    setQuestions(optionsOfQuestion);\n  }\n\n  function deleteQuestion(i){\n    let qs = [...questions]; \n    if(questions.length > 1){\n      qs.splice(i, 1);\n    }\n    setQuestions(qs)\n  }\n\n  function handleOptionValue(text,i, j){\n    var optionsOfQuestion = [...questions];\n    optionsOfQuestion[i].options[j].optionText = text;\n    //newMembersEmail[i]= email;\n      setQuestions(optionsOfQuestion);\n  }\n\n  function handleQuestionValue(text, i){\n    var optionsOfQuestion = [...questions];\n    optionsOfQuestion[i].questionText = text;\n      setQuestions(optionsOfQuestion);\n  }\n\n function onDragEnd(result) {\n  if (!result.destination) {\n    return;\n  }\n  var itemgg = [...questions];\n\n  const itemF = reorder(\n    itemgg,\n    result.source.index,\n    result.destination.index\n  );\n\n  setQuestions(itemF);\n  }\n\n  const reorder = (list, startIndex, endIndex) => {\n    const result = Array.from(list);\n    const [removed] = result.splice(startIndex, 1);\n    result.splice(endIndex, 0, removed);\n    return result;\n  };\n\n  function showAsQuestion(i){\n    let qs = [...questions];  \n     qs[i].open = false;\n     setQuestions(qs);\n  }\n\n  function addOption(i){\n    var optionsOfQuestion = [...questions];\n    if(optionsOfQuestion[i].options.length < 5){\n      optionsOfQuestion[i].options.push({optionText: \"Option \" + (optionsOfQuestion[i].options.length + 1)})\n    } else{\n      console.log(\"Max  5 options \");  \n    }\n    //console.log(optionsOfQuestion);\n    setQuestions(optionsOfQuestion)\n  }\n\n  function removeOption(i, j){\n    var optionsOfQuestion = [...questions];\n    if(optionsOfQuestion[i].options.length > 1){\n      optionsOfQuestion[i].options.splice(j, 1);\n      setQuestions(optionsOfQuestion)\n      console.log(i + \"__\" + j);\n    }   \n  }\n\n  function expandCloseAll(){\n    let qs = [...questions]; \n     for (let j = 0; j < qs.length; j++) {  \n      qs[j].open = false;\n     }\n     setQuestions(qs);\n  }\n\n  function handleExpand(i){\n    let qs = [...questions]; \n    for (let j = 0; j < qs.length; j++) {\n      if(i ===j ){\n        qs[i].open = true;\n \n      } else{\n        qs[j].open = false;\n       }\n    }\n     setQuestions(qs);\n  }\n\n  function questionsUI(){\n    return  questions.map((ques, i)=> (\n      <Draggable key={i} draggableId={i + 'id'} index={i}>\n                  {(provided, snapshot) => (\n                    <div\n                      ref={provided.innerRef}\n                      {...provided.draggableProps}\n                      {...provided.dragHandleProps}\n                    >\n                      <div>\n          <div style={{marginBottom: \"15px\"}}>\n            <div style={{width:'100%', marginBottom: '-7px' }}>\n              <DragIndicatorIcon style={{transform: \"rotate(-90deg)\", color:'#DAE0E2'}} fontSize=\"small\"/>\n            </div>\n          \n            <Accordion onChange={()=>{handleExpand(i)}} expanded={questions[i].open}>\n              <AccordionSummary            \n                aria-controls=\"panel1a-content\"\n                id=\"panel1a-header\"\n                elevation={1} style={{width:'100%'}}\n              >\n                { !questions[i].open ? (\n              <div style={{display: 'flex',flexDirection:'column', alignItems:'flex-start', marginLeft: '3px', paddingTop: '15px', paddingBottom: '15px'}}>\n                {/* <TextField id=\"standard-basic\" label=\" \" value=\"Question\" InputProps={{ disableUnderline: true }} />  */}\n                \n                <Typography variant=\"subtitle1\" style={{marginLeft: '0px'}}>{i+1}.  {ques.questionText}</Typography>\n\n\n                {ques.questionImage !==\"\"?(\n                  <div>\n                    <img src={ques.questionImage} width=\"400px\" height=\"auto\" /><br></br><br></br>\n                  </div>\n                ): \"\" }\n                \n                {ques.options.map((op, j)=>(\n                 \n                 <div key={j}>\n                   <div style={{display: 'flex'}}>\n                    <FormControlLabel disabled control={<Radio style={{marginRight: '3px', }} />} label={\n                        <Typography style={{color: '#555555'}}>\n                          {ques.options[j].optionText}\n                        </Typography>\n                      } />\n                   </div>\n\n                  <div>\n                    {op.optionImage !==\"\"?(\n                      <img src={op.optionImage} width=\"160px\" height=\"auto\" />\n                    ): \"\" }\n                  </div>\n                 </div>\n                ))}  \n              </div>            \n              ): \"\"}   \n              </AccordionSummary>\n\n              <AccordionDetails>\n              <div style={{display: 'flex',flexDirection:'column', alignItems:'flex-start', marginLeft: '15px', marginTop:'-15px'}}>\n                <div style={{display:'flex', width: '100%', justifyContent: 'space-between'}}>\n                  <Typography style={{marginTop:'20px'}}>{i+1}.</Typography>\n                  <TextField \n                        fullWidth={true} \n                        placeholder=\"Question Text\" \n                        style={{marginBottom: '18px'}}  \n                        rows={2}\n                        rowsMax={20}\n                        multiline={true}\n\n                        value={ques.questionText}\n                        variant=\"filled\"\n                      onChange={(e)=>{handleQuestionValue(e.target.value, i)}}\n                  />\n                  <IconButton aria-label=\"upload image\" onClick={()=>{uploadImage(i, null)}}>\n                        <CropOriginalIcon />\n                  </IconButton>\n                </div>\n\n                <div>\n                     {\n                       checkImageHereOrNotForQuestion(ques.questionImage) ? (\n                        <div>\n                            <div style={{width:'150px', display: 'flex', alignItems:'flex-start', paddingLeft:'20px'}}>\n                            <img src={ques.questionImage} width=\"150px\" height=\"auto\"/>\n                            <IconButton style={{marginLeft: '-15px', marginTop: '-15px',zIndex:999, backgroundColor: 'lightgrey', color:'grey'}} \n                                        size=\"small\"\n                                        onClick={()=>{\n                                          updateImageLink(\"\", {question: i, option: null})\n                                        }}>\n                              <CloseIcon />\n                            </IconButton>\n                            </div>\n                        </div>\n                       ): \"\"\n                     }\n                </div>\n                \n                <div style={{width: '100%'}}>\n                {ques.options.map((op, j)=>(\n                 \n                 <div key={j}>\n                      <div  style={{display:'flex', flexDirection:'row', marginLeft:'-12.5px', justifyContent: 'space-between', paddingTop: '5px', paddingBottom: '5px'}}>\n\n                          <Radio disabled /> \n                          <TextField \n                            fullWidth={true} \n                            placeholder=\"Option text\" \n                            style={{marginTop: '5px'}} \n                            value={ques.options[j].optionText}\n                            onChange={(e)=>{handleOptionValue(e.target.value, i, j)}}\n                          />\n\n                          <IconButton aria-label=\"upload image\" onClick={()=>{uploadImage(i, j)}}>\n                            <CropOriginalIcon />\n                          </IconButton>\n\n                          <IconButton aria-label=\"delete\" onClick={()=>{removeOption(i, j)}}>\n                            <CloseIcon />\n                          </IconButton>\n                          </div>\n\n                          <div>\n                          {\n                            checkImageHereOrNotForOption(op.optionImage) ? (\n                            <div>\n                              <div style={{width:'150px', display: 'flex', alignItems:'flex-start', paddingLeft:'20px'}}>\n                                <img src={op.optionImage} width=\"90px\" height=\"auto\"/>\n                                \n                                <IconButton style={{marginLeft: '-15px', marginTop: '-15px',zIndex:999, backgroundColor: 'lightgrey', color:'grey'}}\n                                            size=\"small\"\n                                            onClick={()=>{\n                                              updateImageLink(\"\", {question: i, option: j})\n                                            }}\n                                            >\n                                  <CloseIcon />\n                                </IconButton>\n                              </div>\n                              <br></br>\n                              <br></br>  \n                            </div>\n                            ): \"\"\n                          }\n                          </div>\n                 </div>\n                ))}  \n                </div>  \n                \n                \n                {ques.options.length < 5 ? (\n                  <div>\n                  <FormControlLabel disabled control={<Radio />} label={\n                    <Button size=\"small\" onClick={()=>{addOption(i)}} style={{textTransform: 'none', marginLeft:\"-5px\"}}>\n                      Add Option\n                    </Button>\n                  } /> \n                  </div>\n                ): \"\"}\n\n                <br></br>\n                <br></br>\n\n                <Typography variant=\"body2\" style={{color: 'grey'}}>You can add maximum 5 options. If you want to add more then change in settings. Multiple choice single option is availible</Typography>\n              </div>\n              </AccordionDetails>\n\n              <Divider />\n              \n              <AccordionActions>               \n                    <IconButton aria-label=\"View\" onClick={()=>{showAsQuestion(i)}}>\n                      <VisibilityIcon />\n                    </IconButton>\n\n                    <IconButton aria-label=\"Copy\" onClick={()=>{copyQuestion(i)}}>\n                      <FilterNoneIcon />\n                    </IconButton>\n                    <Divider orientation=\"vertical\" flexItem/>\n\n                    <IconButton aria-label=\"delete\" onClick={()=>{deleteQuestion(i)}}>\n                      <DeleteOutlineIcon />\n                    </IconButton>\n\n                    <IconButton aria-label=\"Image\">\n                      <MoreVertIcon />\n                    </IconButton>\n              </AccordionActions>\n            </Accordion>\n          </div>\n      </div>\n                    </div>\n                  )}\n      </Draggable>\n      \n     )\n    )\n  }\n\n\n\n\n  return (\n       <div style={{marginTop:'15px', marginBottom: '7px', paddingBottom:\"30px\"}}>\n           <Grid\n            container\n            direction=\"column\"\n            justify=\"center\"\n            alignItems=\"center\"\n            >\n              {loadingFormData ? (<CircularProgress />):\"\"}\n              \n             <Grid item xs={12} sm={5} style={{width: '100%'}}>\n                 \n                  <Grid style={{borderTop: '10px solid teal', borderRadius: 10}}>\n                      <div>\n                          <div>\n                            <Paper elevation={2} style={{width:'100%'}}>\n                              <div style={{display: 'flex',flexDirection:'column', alignItems:'flex-start', marginLeft: '15px', paddingTop: '20px', paddingBottom: '20px'}}>\n                                <Typography variant=\"h4\" style={{fontFamily:'sans-serif Roboto', marginBottom:\"15px\"}}>\n                                  {formData.name}\n                                </Typography>\n                                <Typography variant=\"subtitle1\">{formData.description}</Typography>\n                              </div>\n                            </Paper>\n                          </div> \n                      </div>       \n                  </Grid>  \n\n                  <Grid style={{paddingTop: '10px'}}>\n                    <div>\n                    <ImageUplaodModel handleImagePopOpen={openUploadImagePop} handleImagePopClose={()=>{setOpenUploadImagePop(false)}} updateImageLink={updateImageLink} contextData={imageContextData}/>\n\n                    <DragDropContext onDragEnd={onDragEnd}>\n                      <Droppable droppableId=\"droppable\">\n                        {(provided, snapshot) => (\n                          <div\n                            {...provided.droppableProps}\n                            ref={provided.innerRef}\n                          >\n                            {questionsUI()}\n\n                            {provided.placeholder}\n                          </div>\n                        )}\n                      </Droppable>\n                    </DragDropContext>\n                    <div>                       \n                        <Button\n                          variant=\"contained\"\n                          \n                          onClick={addMoreQuestionField}\n                          endIcon={<AddCircleIcon />}\n                          style={{margin: '5px'}}\n                        >Add Question </Button>\n\n                        <Button\n                          variant=\"contained\"\n                          color=\"primary\"\n                          onClick={saveQuestions}\n                          style={{margin: '15px'}}\n                          endIcon={<SaveIcon />}\n                        >Save Questions </Button>\n                      </div>\n                    </div>\n                  </Grid>        \n              </Grid>           \n           </Grid>\n       </div>\n  );\n}\nexport default QuestionsTab\n"]},"metadata":{},"sourceType":"module"}